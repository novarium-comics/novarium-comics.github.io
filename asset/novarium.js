document.addEventListener("DOMContentLoaded",()=>{"non-home"===document.body.id&&(document.querySelectorAll("[data-youtube]").forEach(e=>{let t=new URL(e.href).searchParams.get("v");Object.assign(e.dataset,{youtube:t}),e.role="button",e.innerHTML=`<img alt="" src="https://img.youtube.com/vi/${t}/maxresdefault.jpg"><br>${e.textContent}`}),document.addEventListener("click",e=>{let t=e.target.closest("[data-youtube]");if(!t)return;e.preventDefault();let l=t.dataset.youtube;t.outerHTML=`<iframe width="900" height="507" src="https://www.youtube-nocookie.com/embed/${l}?autoplay=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`})),document.querySelectorAll(".gallery.lightbox").forEach(e=>{let t={overlay:document.getElementById("lightbox-overlay"),image:document.getElementById("lightbox-image"),title:document.getElementById("lightbox-title"),subtitle:document.getElementById("lightbox-subtitle"),thumbnails:document.getElementById("lightbox-thumbnails"),loading:document.querySelector(".lb-loading"),currentIndex:0,open(e,t){this.currentIndex=t;let l=e.dataset.fullres||e.src,r=e.closest("li").querySelector(".caption"),[i,n]=[r.querySelector(".cap-title").innerText,r.querySelector(".cap-subtitle").innerText];this.image.style.display="none",this.loading.style.display="block",this.image.alt=i;let o=new Image;o.onload=()=>{Object.assign(this.image,{src:l,style:{display:"block"}}),this.title.innerText=i,this.subtitle.innerText=n,this.loading.style.display="none",this.updateThumbnails()},o.src=l,this.overlay.style.display="block"},close(){this.overlay.style.display="none"},showNext(){this.open(l[++this.currentIndex%l.length],this.currentIndex)},showPrev(){this.open(l[(--this.currentIndex+l.length)%l.length],this.currentIndex)},updateThumbnails(){Array.from(this.thumbnails.children).forEach((e,t)=>e.classList.toggle("thumb-active",t===this.currentIndex))}},l=e.querySelectorAll(".gallery-thumb img");l.forEach((e,l)=>{e.addEventListener("click",()=>t.open(e,l));let r=e.cloneNode();r.addEventListener("click",()=>t.open(e,l)),t.thumbnails.appendChild(r)}),document.querySelector(".lb-close")?.addEventListener("click",()=>t.close()),document.querySelector(".lb-next")?.addEventListener("click",()=>t.showNext()),document.querySelector(".lb-prev")?.addEventListener("click",()=>t.showPrev()),t.overlay?.addEventListener("click",e=>{e.target===t.overlay&&t.close()})}),window.addEventListener("scroll",()=>{document.querySelectorAll(".parallax-container").forEach(e=>{let t=e.querySelector(".parallax-img"),l=(window.scrollY-e.getBoundingClientRect().top+window.scrollY)*.5;t.style.transform=`translateY(${l}px)`})})});