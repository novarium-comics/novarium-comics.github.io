document.addEventListener("DOMContentLoaded",function(){if("non-home"===document.body.id){let e=document.querySelectorAll("[data-youtube]");for(let t of e){let l=new URL(t.href).searchParams.get("v");t.setAttribute("data-youtube",l),t.setAttribute("role","button"),t.innerHTML=`<img alt="" src="https://img.youtube.com/vi/${l}/maxresdefault.jpg"><br>${t.textContent}`}document.addEventListener("click",function e(t){let l=t.target.closest("[data-youtube]");if(!l)return;t.preventDefault();let r=l.getAttribute("data-youtube"),n=document.createElement("div");n.innerHTML=`<iframe width="900" height="507" src="https://www.youtube-nocookie.com/embed/${r}?autoplay=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`,l.replaceWith(n)})}let r=document.querySelectorAll(".gallery.lightbox");r.forEach(e=>{let t=e.querySelectorAll(".gallery-thumb img"),l=document.getElementById("lightbox-overlay"),r=document.getElementById("lightbox-image"),n=document.getElementById("lightbox-title"),i=document.getElementById("lightbox-subtitle"),o=document.querySelector(".lb-prev"),a=document.querySelector(".lb-next"),c=document.querySelector(".lb-close"),s=document.getElementById("lightbox-thumbnails"),u=document.querySelector(".lb-loading"),d=0;function y(e){let t=e.getAttribute("data-fullres");t||(t=e.src);let o=e.closest("li").querySelector(".caption"),a=o.querySelector(".cap-title").innerText,c=o.querySelector(".cap-subtitle").innerText;r.style.display="none",u.style.display="block",r.alt=a;let y=new Image;y.onload=()=>{r.src=t,n.innerText=a,i.innerText=c,u.style.display="none",r.style.display="block",function e(){let t=s.querySelectorAll("img");t.forEach((e,t)=>{t===d?e.classList.add("thumb-active"):e.classList.remove("thumb-active")})}()},y.src=t,l.style.display="block"}function b(){l.style.display="none"}t&&t.length>0&&t.forEach((e,t)=>{e.addEventListener("click",()=>{d=t,y(e)});let l=e.cloneNode();l.addEventListener("click",()=>{d=t,y(e)}),s.appendChild(l)}),c&&c.addEventListener("click",b),a&&a.addEventListener("click",function e(){y(t[d=(d+1)%t.length])}),o&&o.addEventListener("click",function e(){y(t[d=(d-1+t.length)%t.length])}),l&&l.addEventListener("click",function(e){e.target===l&&b()})});let n=document.querySelectorAll(".parallax-container");window.addEventListener("scroll",function(){n.forEach(e=>{let t=e.querySelector(".parallax-img"),l=e.getBoundingClientRect(),r=l.top+window.scrollY,n=window.scrollY;t.style.transform="translateY("+(n-r)*.5+"px)"})})});